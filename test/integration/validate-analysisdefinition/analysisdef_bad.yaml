apiVersion: metrics.keptn.sh/v1alpha3
kind: AnalysisDefinition
metadata:
  name: analysisdefinition-bad
spec:
  objectives:
    - analysisValueTemplateRef:
        name: response_time_p95
        namespace: keptn-lifecycle-toolkit-system
      sloTargets:
        pass:
          # anyOf and allOf not allowed at the same time on this level,
          # validation webhook should fail
          anyOf:
            - allOf:
                - lessThanOrEqual:
                    fixedValue: 600
                - lessThan:
                    fixedValue: 600
          allOf:
            - allOf:
                - lessThanOrEqual:
                    fixedValue: 600
        warning:
          anyOf:
            - allOf:
                - greaterThanOrEqual:
                    fixedValue: 800
      weight: 1
      keyObjective: false
  totalScore:
    passPercentage: 90
    warningPercentage: 75
